<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <title>Saleaah | Careers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap");
      :root {
        --main-purple: #745ff2;
        --text-dark: #222;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Cairo", sans-serif;
        background-color: #fff;
        overflow-x: hidden;
      }
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("pattern.png");
        background-repeat: repeat;
        background-size: 180px;
        opacity: 0.08;
        z-index: -1;
      }
      .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: left;
        padding: 60px 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      .logo {
        width: 260px;
        margin-bottom: 20px;
      }
      h1 {
        color: var(--main-purple);
        text-align: center;
        margin-bottom: 25px;
      }
      h2 {
        color: var(--main-purple);
        margin-top: 25px;
        margin-bottom: 8px;
      }
      ul {
        margin: 0 0 15px 25px;
      }
      form {
        width: 100%;
        margin-top: 25px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      label {
        font-weight: 600;
      }
      input,
      select {
        padding: 8px 10px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-family: "Cairo", sans-serif;
      }
      button {
        margin-top: 15px;
        background: var(--main-purple);
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
      }
      button:hover {
        background: #624cd8;
      }
      .footer {
        text-align: center;
        padding: 25px 0;
        font-size: 0.9rem;
        color: #666;
        border-top: 1px solid rgba(0, 0, 0, 0.05);
        margin-top: 60px;
      }
      .footer span {
        color: var(--main-purple);
        font-weight: 600;
      }
      .endpage {
        text-align: center;
        padding: 100px 20px;
        display: none;
      }
      .endpage h2 {
        color: var(--main-purple);
        margin-bottom: 10px;
      }
      .endpage p {
        color: #333;
        font-size: 1.1rem;
      }
      .loading {
        display: none;
        text-align: center;
        margin-top: 20px;
      }
      .loading-spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--main-purple);
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 2s linear infinite;
        margin: 0 auto 10px;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>

  <body>
    <div class="content" id="mainContent">
      <img src="logo.png" class="logo" alt="Saleaah logo" />

      <h1 id="jobTitle">Sales Specialist</h1>

      <h2>Key Responsibilities:</h2>
      <ul>
        <li>
          Building and nurturing strong relationships with our current clients.
        </li>
        <li>
          Strategically expanding our clients' network by identifying and
          securing the best deals.
        </li>
        <li>
          Leading the expansion into new clients aligned with Saleaah's vision.
        </li>
        <li>Coordinating the entire order cycle with clients.</li>
        <li>
          Collaborating closely with the procurement team to ensure smooth
          operations.
        </li>
        <li>
          Leading negotiations on prices and other critical terms with clients.
        </li>
      </ul>

      <h2>Requirements:</h2>
      <ul>
        <li>
          Bachelor's degree in Marketing, Business Administration, or a related
          field.
        </li>
        <li>1–3 years of experience in customer relations or sales.</li>
        <li>
          Strong analytical and problem-solving skills, data-driven
          decision-making.
        </li>
        <li>Excellent communication and interpersonal skills.</li>
        <li>Exceptional organizational skills and meticulous attention.</li>
        <li>Experience in the Poultry Industry.</li>
        <li>Proficiency in MS Excel.</li>
        <li>Fluency in Arabic and English.</li>
        <li>Saudi Nationality – Riyadh-based.</li>
      </ul>

      <form id="jobForm" action="https://docs.google.com/forms/d/e/1FAIpQLScpU2HlXIR1oGiWj49zS5aX_OKmK6AwIxBB96q7UwX4B1RG8g/formResponse" method="POST" target="hidden-iframe">
        <!-- تغيير الحقول لتناسب نموذج Google Forms -->
        <label>Name</label>
        <input type="text" id="name" name="entry.1638866751" required />

        <label>Email</label>
        <input type="email" id="email" name="entry.429305325" required />

        <label>Phone Number</label>
        <input type="tel" id="phone" name="entry.2043089891" required pattern="[0-9]{9,}" />

        <label>Gender</label>
        <select id="gender" name="entry.1565770601" required>
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>

        <label>Nationality</label>
        <select id="nationality" name="entry.1291775422" required>
          <option value="">Select</option>
          <option value="Saudi">Saudi</option>
          <option value="Others">Others</option>
        </select>

        <label>Are you based in Riyadh?</label>
        <select id="riyadh" name="entry.1747741062" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <label>Do you have a bachelor's degree?</label>
        <select id="degree" name="entry.429873741" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <label>Have you worked in the Food & Beverage industry?</label>
        <select id="fnb" name="entry.2000312391" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <label>Have you worked in the Poultry industry?</label>
        <select id="poultry" name="entry.1376892882" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <label>LinkedIn Profile</label>
        <input type="url" id="linkedin" name="entry.1271985669" required />

        <label>Upload your CV (PDF/DOC)</label>
        <input
          type="file"
          id="cv"
          accept=".pdf,.doc,.docx"
          required
        />

        <button type="submit" id="submitButton">Submit Application</button>
        
        <div class="loading" id="loadingIndicator">
          <div class="loading-spinner"></div>
          <p>Submitting your application...</p>
        </div>
      </form>
      <iframe name="hidden-iframe" style="display:none;"></iframe>
    </div>

    <div class="endpage" id="endPage">
      <h2>Your application has been submitted ✓</h2>
      <p>Thank you for applying. Our team will review your profile and contact you if there is a match.</p>
    </div>

    <footer class="footer">
      © 2025 <span>Saleaah</span> — All rights reserved
    </footer>

    <script>
      const form = document.getElementById("jobForm");
      const mainContent = document.getElementById("mainContent");
      const endPage = document.getElementById("endPage");
      const loadingIndicator = document.getElementById("loadingIndicator");
      const submitButton = document.getElementById("submitButton");
      
      // مستودع Google Drive API
      const driveAPI = "https://script.google.com/macros/s/AKfycbxXAKhfJvTlpQxF4S5uZVE4rJVsJYpzuwDqbF-PQ3I3BqGmg3XQfnFTDa14wdYwUvOX/exec";
      
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        
        // إظهار مؤشر التحميل وتعطيل زر الإرسال
        submitButton.disabled = true;
        loadingIndicator.style.display = "block";
        
        try {
          // التحقق من وجود ملف
          const fileInput = document.getElementById('cv');
          if (!fileInput.files || fileInput.files.length === 0) {
            throw new Error("Please select a CV file");
          }
          
          // إنشاء FormData للبيانات الرئيسية
          const formData = new FormData(form);
          
          // معالجة الملف - أرسل الملف إلى Google Drive API
          const file = fileInput.files[0];
          const fileFormData = new FormData();
          fileFormData.append('file', file);
          fileFormData.append('filename', file.name);
          fileFormData.append('email', document.getElementById('email').value);
          
          // رفع الملف
          const fileUploadResponse = await fetch(driveAPI, {
            method: 'POST',
            body: fileFormData
          });
          
          if (!fileUploadResponse.ok) {
            throw new Error("Error uploading CV file");
          }
          
          const fileData = await fileUploadResponse.json();
          
          // إرسال النموذج الأساسي
          form.submit();
          
          // عرض صفحة النجاح بعد فترة قصيرة
          setTimeout(() => {
            mainContent.style.display = "none";
            endPage.style.display = "block";
            window.scrollTo(0, 0);
          }, 1500);
          
        } catch (error) {
          console.error("Error:", error);
          alert(`Error submitting form: ${error.message}`);
          submitButton.disabled = false;
          loadingIndicator.style.display = "none";
        }
      });
    </script>
  </body>
</html>
